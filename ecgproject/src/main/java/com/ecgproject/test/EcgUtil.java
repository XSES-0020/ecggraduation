package com.ecgproject.test;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Arrays;
import java.util.List;

import javax.imageio.ImageIO;

import org.apache.commons.lang3.StringUtils;

public class EcgUtil {
    /*private static String data = "2027,2032,2038,2043,2047,2050,2051,2051,2052,2053,2055,2057,2059,2063,2066,2069,2068,2065,2061,2057,2052,2047,2042,2021,2009,2009,2028,2080,2149,2184,2184,2160,2113,2079,2069,2064,2050,2028,2016,2016,2019,2030,2045,2051,2051,2050,2048,2045,2043,2044,2048,2053,2057,2062,2066,2070,2074,2078,2082,2087,2094,2103,2114,2125,2136,2143,2145,2141,2134,2126,2118,2111,2104,2099,2095,2089,2082,2074,2065,2056,2048,2039,2033,2030,2029,2030,2032,2036,2042,2047,2052,2057,2062,2065,2066,2063,2059,2056,2054,2054,2055,2055,2057,2058,2058,2056,2053,2050,2048,2047,2046,2046,2047,2048,2048,2048,2046,2044,2040,2037,2032,2029,2026,2023,2021,2008,1997,1997,2011,2064,2142,2181,2181,2152,2091,2036,2014,2014,2017,2024,2029,2029,2024,2018,2015,2015,2016,2018,2021,2024,2027,2030,2033,2037,2043,2049,2056,2061,2066,2069,2075,2082,2090,2097,2102,2107,2112,2117,2120,2121,2118,2112,2103,2095,2086,2078,2069,2060,2053,2049,2046,2042,2037,2033,2029,2026,2024,2022,2023,2027,2032,2037,2042,2045,2048,2049,2048,2046,2044,2043,2043,2045,2047,2049,2049,2047,2044,2040,2036,2035,2035,2035,2037,2040,2043,2047,2049,2049,2047,2045,2043,2044,2047,2051,2056,2061,2065,2066,2067,2067,2065,2061,2043,2035,2035,2037,2075,2153,2195,2195,2179,2127,2069,2045,2044,2044,2043,2043,2049,2052,2052,2049,2034,2027,2024,2022,2022,2022,2023,2024,2025,2030,2036,2042,2047,2052,2057,2063,2068,2072,2076,2082,2087,2094,2101,2106,2110,2112,2109,2104,2096,2088,2079,2069,2058,2049,2042,2038,2038,2038,2039,2041,2042,2043,2044,2043,2042,2040,2039,2039,2040,2042,2043,2045,2046,2045,2044,2043,2043,2043,2042,2041,2040,2040,2040,2040,2040,2040,2040,2041,2041,2042,2042,2043,2043,2043,2044,2044,2044,2045,2046,2046,2046,2047,2049,2051,2054,2056,2056,2056,2056,2054,2051,2047,2043,2034,2034,2034,2050,2098,2164,2197,2197,2163,2102,2066,2062,2061,2060,2050,2048,2048,2049,2048,2036,2026,2026,2027,2029,2031,2032,2034,2036,2040,2043,2047,2051,2056,2062,2068,2075,2081,2087,2093,2098,2103,2108,2111,2113,2113,2112,2109,2105,2099,2091,2081,2070,2060,2052,2046,2041,2038,2037,2038,2039,2039,2040,2041,2040,2039,2039,2039,2041,2043,2045,2047,2048,2049,2049,2048,2047,2045,2044,2044,2044,2044,2044,2045,2046,2047,2048,2048,2048,2048,2049,2049,2050,2050,2049,2049,2049,2049,2047,2044,2041,2040,2040,2040,2040,2039,2038,2038,2039,2039,2038,2037,2036,2037,2040,2042,2045,2047,2050,2055,2058,2060,2060,2059,2059,2058,2055,2050,2026,2026,2030,2044,2080,2142,2181,2185,2185,2149,2088,2058,2057,2057,2052,2043,2042,2042,2045,2047,2047,2043,2039,2037,2036,2037,2039,2042,2045,2049,2055,2060,2064,2067,2070,2074,2078,2082,2087,2092,2097,2101,2102,2102,2101,2100,2098,2095,2091,2088,2084,2077,2070,2062,2054,2048,2044,2040,2037,2037,2038,2039,2040,2038,2036,2033,2032,2032,2033,2035,2036,2037,2038,2039,2039,2039,2039,2038,2038,2038,2038,2039,2038,2037,2035,2034,2033,2033,2035,2037,2039,2041,2042,2042,2041,2040,2037,2034,2033,2035,2039,2044,2048,2052,2056,2059,2061,2060,2057,2053,2049,2047,2044,2042,2039,2037,2037,2043,2069,2124,2162,2166,2166,2130,2080,2066,2066,2068,2069,2069,2060,2046,2040,2040,2040,2042,2044,2045,2047,2050,2053,2056,2058,2060,2064,2068,2072,2076,2080,2085,2092,2100,2108,2115,2122,2126,2128,2128,2126,2122,2119,2113,2105,2096,2088,2080,2072,2063,2053,2045,2040,2037,2035,2032,2029,2028,2029,2030,2031,2032,2032,2032,2032,2032,2032,2032,2032,2032,2033,2035,2036,2037,2038,2037,2037,2037,2038,2037,2036,2034,2032,2030,2030,2030,2030,2032,2035,2039,2041,2042,2042,2040,2040,2040,2040,2040,2041,2043,2047,2052,2056,2059,2062,2065,2067,2067,2065,2062,2058,2054,2049,2022,2022,2022,2045,2101,2162,2188,2188,2149,2079,2046,2045,2046,2046,2040,2024,2015,2015,2022,2029,2032,2032,2032,2032,2032,2033,2035,2037,2041,2044,2048,2052,2055,2058,2063,2069,2075,2082,2088,2095,2100,2104,2106,2105,2102,2100,2096,2093,2090,2086,2083,2078,2072,2066,2060,2054,2049,2043,2039,2036,2033,2032,2031,2032,2033,2036,2038,2040,2043,2047,2049,2050,2048,2047,2047,2048,2049,2049,2047,2047,2048,2049,2048,2046,2043,2043,2045,2047,2049,2050,2051,2051,2052,2050,2046,2042,2039,2038,2039,2041,2044,2048,2053,2057,2059,2059,2058,2055,2052,2049,2047,2046,2046,2048,2048,2047,2044,2042,2040,2039,2036,2033,2026,2026,2061,2137,2179,2179,2172,2138,2094,2071,2060,2050,2035,2012,1998,1998,2001,2019,2040,2046,2046,2041,2034,2031,2030,2033,2038,2041,2043,2045,2049,2054,2060,2064,2065,2066,2069,2073,2077,2081,2086,2089,2092,2093,2092,2090,2089,2085,2079,2073,2063,2053,2045,2037,2031,2028,2026,2025,2027,2031,2036,2041,2044,2045,2045,2046,2048,2051,2054,2059,2066,2072,2077,2081,2085,2087,2089,2087,2084,2081,2080,2083,2087,2092,2094,2093,2090,2087,2083,2076,2068,2059,2052,2051,2052,2052,2051,2049,2047,2045,2045,2044,2044,2043,2042,2042,2042,2043,2042,2041,2037,2033,2030,2028,2026,2024,2021,2017,2017,2024,2060,2124,2177,2197,2197,2168,2109,2061,2043,2043,2044,2044,2043,2042,2042,2043,2043,2039,2036,2035,2034,2035,2037,2038,2039,2041,2045,2049,2054,2057,2060,2062,2065,2066,2067,2066,2068,2071,2075,2078,2080,2078,2076,2073,2068,2059,2047,2036,2028,2024,2020,2016,2012,2011,2012,2013,2014,2013,2013,2013,2015,2018,2021,2022,2025,2028,2031,2035,2036,2035,2034,2034,2034,2034,2035,2037,2040,2043,2047,2049,2051,2050,2048,2046,2043,2043,2046,2049,2053,2058,2062,2065,2067,2068,2066,2063,2059,2055,2053,2052,2050,2033,2018,2018,2049,2115,2157,2163,2163,2131,2073,2036,2026,2026,2027,2027,2029,2032,2036,2036,2036,2043,2050,2058,2064,2068,2069,2068,2067,2071,2075,2078,2081,2084,2088,2095,2102,2108,2111,2114,2117,2120,2122,2123,2124,2123,2120,2116,2110,2105,2098,2089,2079,2070,2063,2055,2048,2041,2037,2037,2039,2043,2048,2052,2056,2059,2059,2056,2053,2051,2049,2049,2050,2052,2055,2057,2058,2057,2055,2051,2048,2045,2044,2043,2042,2041,2039,2036,2033,2031,2029,2027,2026,2027,2032,2038,2044,2048,2049,2047,2043,2037,2032,2027,2031,2031,2031,2037,2072,2133,2161,2161,2128,2077,2058,2058,2059,2059,2057,2049,2040,2031,2024,2021,2021,2023,2026,2027,2029,2032,2035,2037,2041,2042,2042,2041,2041,2043,2046,2050,2055,2062,2071,2080,2087,2092,2093,2093,2091,2088,2083,2078,2071,2065,2058,2052,2046,2041,2037,2034,2032,2030,2029,2029,2030,2031,2033,2034,2034,2034,2035,2035,2034,2031,2029,2029,2033,2038,2042,2045,2047,2049,2053,2054,2054,2053,2053,2054,2057,2059,2058,2056,2054,2052,2052,2051,2049,2048,2049,2051,2053,2054,2054,2054,2053,2052,2052,2052,2050,2047,2043,2039,2023,2023,2044,2101,2140,2143,2143,2120,2083,2060,2049,2048,2049,2049,2040,2012,1996,1996,2007,2027,2041,2043,2044,2044,2043,2040,2037,2035,2033,2033,2035,2037,2041,2046,2052,2059,2066,2070,2074,2075,2075,2076,2076,2075,2074,2070,2066,2062,2060,2058,2055,2051,2047,2044,2042,2041,2041,2041,2041,2042,2044,2046,2048,2048,2047,2047,2046,2046,2046,2046,2046,2046,2047,2048,2048,2047,2046,2046,2046,2046,2046,2046,2046,2047,2048,2050,2051,2051,2050,2049,2048,2047,2047,2046,2044,2042,2041,2040,2040,2039,2038,2037,2038,2042,2045,2049,2051,2051,2050,2048,2045,2041,2029,2027,2027,2042,2086,2149,2182,2182,2159,2101,2049,2030,2030,2032,2034,2034,2032,2027,2019,2013,2013,2014,2016,2020,2025,2029,2032,2034,2037,2039,2040,2041,2042,2044,2047,2052,2059,2066,2073,2079,2083,2086,2087,2088,2089,2089,2089,2089,2087,2082,2076,2067,2058,2050,2042,2036,2032,2029,2027,2026,2025,2023,2021,2021,2021,2022,2025,2028,2031,2034,2036,2037,2036,2035,2036,2037,2039,2040,2039,2039,2039,2039,2039,2038,2037,2037,2039,2041,2042,2043,2043,2042,2041,2041,2042,2042,2042,2042,2043,2044,2045,2047,2050,2054,2058,2062,2065,2067,2066,2062,2056,2048,2042,2036,2028,2027,2027,2052,2111,2153,2161,2161,2122,2054,2024,2024,2036,2048,2049,2050,2050,2051,2051,2050,2043,2039,2038,2038,2040,2043,2047,2051,2057,2063,2069,2075,2080,2085,2090,2094,2099,2104,2109,2113,2117,2119,2119,2117,2115,2111,2106,2099,2092,2085,2078,2070,2063,2056,2052,2049,2046,2044,2042,2040,2037,2037,2037,2037,2036,2034,2033,2034,2036,2037,2037,2037,2039,2043,2047,2048,2048,2047,2046,2044,2042,2040,2038,2037,2037,2037,2039,2041,2042,2043,2043,2043,2043,2043,2043,2042,2041,2042,2044,2046,2048,2050,2051,2053,2055,2056,2056,2054,2052,2050,2048,2046,2044,2035,2028,2028,2060,2132,2172,2172,2159,2114,2061,2040,2040,2041,2042,2042,2042,2043,2047,2050,2050,2044,2040,2039,2039,2041,2043,2046,2048,2051,2055,2059,2064,2068,2073,2080,2087,2094,2100,2107,2113,2118,2120,2121,2121,2121,2120,2116,2107,2097,2087,2077,2067,2058,2050,2044,2042,2041,2041,2041,2040,2039,2038,2038,2039,2040,2041,2042,2043,2044,2044,2044,2044,2044,2044,2044,2044,2044,2043,2043,2043,2043,2043,2045,2046,2047,2047,2047,2047,2048,2047,2047,2047,2048,2050,2052,2052,2051,2049,2047,2045,2044,2044,2045,2048,2053,2057,2061,2063,2062,2060,2058,2055,2053,2052,2051,2051,2051,2051,2051,2051,2053,2055,2058,2059,2059,2057,2055,2051,2047,2042,2044,2044,2044,2058,2100,2161,2190,2190,2160,2101,2055,2039,2039,2040,2040,2035,2032,2032,2033,2032,2030,2030,2032,2034,2036,2038,2039,2041,2045,2049,2053,2056,2059,2062,2066,2071,2074,2078,2084,2092,2099,2106,2110,2113,2116,2117,2115,2110,2102,2094,2086,2078,2070,2062,2056,2052,2048,2047,2045,2045,2044,2044,2044,2044,2047,2049,2050,2050,2050,2050,2050,2050,2048,2046,2046,2046,2048,2050,2052,2054,2054,2054,2054,2052,2050,2047,2044,2041,2040,2041,2042,2042,2043,2045,2046,2048,2048,2046,2044,2042,2040,2040,2041,2043,2044,2046,2049,2052,2054,2054,2053,2051,2049,2048,2047,2046,2046,2045,2045,2045,2045,2046,2046,2046,2045,2044,2044,2044,2045,2047,2048,2049,2051,2052,2053,2053,2038,2030,2030,2038,2082,2156,2194,2194,2163,2103,2062,2050,2050,2049,2044,2041,2041,2041,2037,2032,2032,2032,2033,2034,2035,2035,2036,2038,2041,2044,2047,2049,2051,2054,2057,2061,2067,2073,2079,2086,2092,2098,2102,2105,2106,2105,2102,2096,2090,2084,2079,2073,2067,2060,2056,2053,2050,2048,2047,2045,2043,2042,2041,2042,2043,2044,2045,2044,2043,2043,2043,2045,2046,2047,2049,2051,2054,2058,2059,2058,2053,2048,2042,2038,2034,2032,2030,2030,2032,2034,2036,2038,2039,2039,2039,2039,2040,2042,2043,2044,2044,2044,2044,2044,2043,2040,2038,2037,2038,2039,2041,2043,2044,2045,2047,2047,2047,2046,2045,2045,2046,2050,2053,2055,2057,2057,2056,2053,2049,2044,2039,2036,2042,2043,2043,2061,2108,2153,2165,2165,2126,2060,2032,2032,2036,2042,2047,2050,2050,2048,2047,2048,2048,2045,2042,2040,2041,2042,2044,2046,2047,2050,2054,2059,2063,2067,2071,2074,2078,2083,2088,2095,2102,2108,2115,2120,2124,2123,2117,2108,2095,2082,2069,2058,2049,2043,2041,2040,2042,2044,2044,2042,2039,2035,2032,2031,2031,2033,2037,2042,2048,2053,2056,2057,2056,2054,2054,2053,2053,2053,2053,2054,2054,2053,2052,2049,2047,2046,2045,2045,2045,2046,2048,2050,2052,2051,2050,2048,2047,2045,2044,2044,2045,2046,2047,2048,2049,2049,2049,2047,2046,2045,2045,2045,2044,2043,2042,2042,2040,2037,2034,2031,2029,2017,2011,2011,2031,2085,2141,2163,2163,2133,2080,2048,2040,2040,2041,2040,2037,2031,2028,2027,2026,2024,2024,2025,2029,2032,2035,2038,2040,2045,2049,2054,2058,2064,2070,2078,2085,2093,2100,2106,2111,2114,2115,2117,2119,2122,2123,2121,2115,2108,2100,2091,2080,2069,2057,2048,2043,2040,2039,2039,2038,2039,2041,2045,2048,2049,2048,2047,2045,2043,2041,2040,2040,2041,2042,2042,2043,2045,2045,2044,2043,2042,2041,2041,2041,2042,2043,2046,2048,2049,2049,2048,2047,2045,2044,2042,2040,2039,2039,2040,2042,2043,2045,2048,2051,2055,2058,2059,2058,2057,2055,2051,2047,2044,2041,2041,2043,2046,2048,2050,2050,2050,2049,2048,2046,2044,2044,2045,2048,2050,2053,2054,2054,2053,2051,2033,2026,2026,2030,2065,2137,2176,2176,2163,2118,2071,2057,2057,2056,2046,2031,2023,2021,2021,2025,2036,2043,2047,2050,2050,2048,2047,2045,2046,2048,2050,2052,2056,2061,2068,2075,2081,2085,2089,2093,2096,2099,2102,2104,2106,2108,2106,2101,2093,2084,2076,2068,2062,2055,2050,2047,2046,2045,2045,2044,2042,2040,2040,2040,2040,2040,2039,2039,2040,2041,2041,2039,2038,2039,2040,2041,2041,2040,2040,2040,2041,2042,2042,2042,2043,2045,2047,2048,2049,2049,2049,2048,2047,2046,2046,2046,2045,2045,2045,2045,2045,2045,2045,2044,2044,2044,2044,2044,2044,2046,2048,2050,2052,2054,2055,2056,2056,2054,2051,2048,2046,2045,2044,2045,2047,2049,2052,2054,2055,2055,2053,2050,2046,2043,2038,2037,2037,2042,2085,2159,2194,2194,2161,2098,2057,2045,2045,2046,2046,2041,2030,2022,2022,2024,2032,2036,2039,2040,2042,2043,2044,2045,2047,2049,2051,2054,2057,2060,2064,2070,2079,2088,2097,2104,2111,2117,2121,2122,2118,2111,2104,2096,2090,2083,2077,2071,2067,2062,2057,2051,2045,2039,2035,2034,2036,2038,2041,2044,2047,2049,2051,2050,2049,2048,2048,2049,2050,2052,2054,2055,2056,2055,2054,2053,2051,2050,2048,2046,2044,2044,2045,2046,2047,2047,2047,2045,2044,2042,2040,2037,2035,2036,2039,2044,2049,2052,2055,2057,2058,2056,2052,2048,2045,2042,2041,2039,2039,2038,2039,2025,2015,2015,2042,2102,2141,2146,2146,2116,2064,2041,2041,2042,2042,2036,2024,2018,2018,2019,2021,2028,2035,2041,2046,2049,2050,2050,2050,2053,2053,2053,2053,2057,2062,2068,2075,2082,2090,2098,2103,2106,2107,2108,2109,2110,2110,2107,2102,2097,2091,2085,2077,2068,2059,2051,2045,2040,2038,2036,2036,2038,2040,2042,2043,2044,2043,2041,2040,2039,2040,2041,2044,2046,2048,2050,2050,2050,2049,2047,2045,2043,2042,2042,2042,2042,2043,2044,2045,2044,2044,2043,2042,2043,2043,2044,2044,2044,2044,2043,2041,2038,2035,2032,2030,2031,2035,2040,2046,2052,2056,2057,2056,2052,2048,2044,2041,2038,2045,2041,2041,2048,2094,2158,2181,2181,2141,2075,2048,2048,2050,2051,2051,2048,2044,2041,2039,2038,2037,2036,2035,2037,2039,2041,2043,2044,2046,2050,2056,2061,2065,2067,2070,2073,2078,2083,2086,2090,2094,2099,2105,2110,2113,2114,2112,2108,2101,2093,2084,2076,2067,2058,2051,2047,2044,2040,2036,2031,2026,2022,2020,2017,2016,2017,2020,2024,2028,2032,2035,2036,2035,2033,2030,2026,2022,2018,2016,2014,2015,2016,2018,2022,2025,2027,2027,2026,2024,2023,2022,2023,2026,2030,2036,2042,2047,2051,2054,2053,2052,2051,2049,2049,2049,2050,2051,2052,2052,2049,2029,2029,2029,2041,2082,2150,2189,2189,2171,2117,2066,2055,2055,2056,2055,2046,2038,2035,2035,2036,2037,2037,2037,2037,2037,2038,2039,2040,2042,2044,2047,2051,2056,2060,2064,2068,2072,2075,2079,2083,2088,2093,2097,2099,2102,2104,2104,2100,2091,2082,2074,2067,2061,2053,2046,2042,2041,2039,2037,2034,2032,2032,2032,2033,2034,2037,2040,2043,2045,2046,2046,2047,2047,2046,2046,2048,2050,2052,2053,2052,2050,2048,2046,2046,2044,2043,2041,2041,2042,2043,2045,2045,2046,2047,2048,2050,2052,2056,2059,2062,2064,2063,2060,2057,2055,2052,2048,2045,2044,2044,2061,2106,2148,2162,2162,2131,2075,2049,2048,2049,2048,2039,2023,2020,2020,2020,2020,2021,2025,2032,2037,2041,2042,2043,2043,2046,2048,2048,2047,2046,2046,2049,2054,2060,2068,2075,2082,2089,2092,2093,2092,2089,2084,2079,2074,2069,2065,2063,2060,2058,2055,2053,2051,2049,2047,2046,2046,2046,2046,2045,2046,2048,2050,2051,2051,2051,2050,2050,2050,2049,2047,2047,2047,2047,2046,2045,2044,2043,2044,2044,2044,2045,2046,2048,2050,2051,2050,2049,2048,2046,2045,2044,2043,2042,2043,2045,2047,2048,2049,2047,2046,2045,2044,2042,2040,2039,2038,2038,2042,2081,2153,2190,2190,2153,2083,2045,2039,2039,2040,2040,2039,2037,2037,2040,2042,2042,2041,2041,2041,2042,2043,2044,2043,2042,2041,2040,2041,2043,2045,2047,2052,2058,2065,2072,2078,2084,2089,2093,2095,2095,2094,2091,2086,2080,2073,2065,2057,2048,2041,2035,2032,2028,2025,2024,2024,2025,2026,2027,2027,2027,2029,2031,2033,2035,2036,2038,2040,2041,2041,2040,2039,2039,2039,2040,2040,2040,2041,2042,2044,2046,2047,2047,2046,2044,2042,2041,2041,2041,2041,2041,2042,2044,2045,2046,2045,2045,2046,2046,2048,2049,2051,2052,2054,2056,2059,2061,2062,2062,2060,2056,2053,2048,2034,2035,2036,2040,2071,2145,2188,2188,2176,2125,2069,2053,2053,2054,2054,2051,2047,2047,2055,2063,2063,2061,2060,2059,2059,2058,2058,2059,2059,2060,2063,2066,2070,2076,2081,2086,2090,2094,2098,2102,2105,2109,2112,2116,2120,2122,2123,2120,2114,2106,2097,2088,2077,2067,2059,2053,2048,2045,2042,2040,2040,2041,2042,2043,2044,2046,2048,2050,2050,2050,2050,2050,2050,2050,2050,2049,2050,2052,2054,2054,2053,2053,2052,2051,2049,2046,2044,2045,2047,2049,2051,2053,2054,2055,2054,2052,2051,2050,2051,2051,2051,2050,2050,2049,2049,2048,2048,2048,2050,2052,2054,2054,2054,2053,2052,2050,2048,2047,2047,2048,2049,2049,2049,2048,2046,2044,2041,2038,2035,2033,2020,2006,2006,2031,2100,2165,2186,2186,2160,2111,2075,2062,2059,2055,2045,2039,2039,2045,2053,2055,2055,2052,2049,2045,2043,2041,2040,2040,2039,2039,2040,2041,2042,2042,2043,2045,2046,2050,2054,2060,2067,2073,2077,2078,2078,2076,2072,2067,2062,2058,2054,2049,2043,2038,2033,2026,2020,2015,2012,2012,2013,2015,2018,2022,2026,2029,2029,2028,2026,2025,2024,2022,2022,2024,2027,2030,2033,2035,2035,2035,2033,2030,2028,2027,2026,2026,2026,2027,2028,2031,2033,2033,2034,2035,2037,2039,2041,2042,2043,2043,2043,2044,2045,2046,2047,2047,2049,2051,2053,2055,2056,2057,2057,2057,2055,2050,2045,2039,2035,2040,2044,2048,2067,2112,2148,2154,2154,2125,2077,2054,2049,2047,2041,2030,2023,2021,2021,2022,2022,2026,2029,2033,2036,2037,2039,2040,2041,2043,2046,2048,2053,2060,2066,2073,2080,2087,2094,2099,2100,2101,2102,2105,2107,2108,2109,2108,2106,2102,2093,2082,2070,2058,2047,2038,2032,2027,2026,2026,2026,2026,2026,2025,2025,2024,2023,2023,2024,2026,2027,2028,2028,2029,2029,2029,2029,2028,2028,2029,2030,2032,2033,2032,2032,2032,2034,2035,2035,2035,2035,2037,2040,2043,2044,2045,2044,2045,2045,2046,2046,2046,2046,2048,2049,2050,2050,2048,2045,2041,2037,2035,2035,2038,2041,2043,2043,2043,2044,2043,2041,2040,2039,2039,2042,2044,2047,2048,2049,2044,2040,2040,2054,2101,2157,2179,2179,2149,2094,2065,2063,2063,2062,2052,2036,2028,2028,2034,2041,2044,2044,2043,2041,2041,2041,2044,2047,2050,2053,2056,2060,2064,2069,2074,2079,2084,2091,2097,2103,2108,2113,2116,2119,2120,2120,2118,2116,2112,2104,2095,2085,2076,2068,2062,2056,2051,2049,2049,2049,2049,2048,2047,2045,2045,2045,2045,2045,2046,2046,2047,2048,2049,2048,2047,2046,2045,2044,2042,2040,2038,2037,2038,2038,2038,2039,2040,2043,2046,2048,2048,2047,2046,2044,2043,2041,2039,2039,2039,2040,2042,2043,2044,2044,2043,2041,2039,2037,2035,2034,2034,2035,2036,2038,2040,2043,2045,2047,2048,2049,2051,2051,2050,2049,2047,2046,2045,2044,2043,2042,2045,2045,2047,2067,2117,2160,2172,2172,2139,2082,2048,2037,2034,2034,2038,2042,2042,2041,2035,2025,2020,2020,2020,2022,2024,2026,2029,2033,2039,2045,2051,2057,2063,2070,2078,2086,2092,2098,2105,2112,2120,2125,2129,2132,2134,2133,2131,2126,2119,2109,2099,2088,2078,2071,2065,2061,2058,2056,2056,2055,2054,2052,2050,2047,2045,2044,2042,2042,2043,2046,2048,2051,2052,2054,2055,2055,2054,2052,2049,2048,2047,2049,2050,2051,2051,2051,2051,2052,2051,2049,2047,2046,2045,2046,2046,2047,2047,2046,2045,2043,2040,2038,2036,2036,2036,2037,2041,2046,2051,2057,2060,2060,2060,2059,2057,2053,2049,2044,2037,2032,2032,2045,2098,2154,2169,2169,2136,2079,2049,2044,2044,2043,2038,2033,2033,2034,2035,2036,2037,2038,2038,2039,2039,2039,2039,2040,2043,2048,2054,2061,2068,2075,2082,2088,2093,2098,2102,2107,2112,2117,2121,2124,2125,2123,2118,2109,2099,2087,2075,2065,2056,2049,2044,2041,2039,2038,2037,2036,2034,2031,2029,2027,2026,2028,2031,2034,2038,2041,2044,2045,2044,2042,2038,2036,2035,2035,2036,2038,2041,2045,2047,2046,2043,2039,2036,2032,2030,2031,2035,2040,2046,2051,2053,2055,2055,2052,2048,2044,2041,2041,2043,2047,2052,2056,2060,2062,2063,2062,2060,2057,2057,2057,2058,2060,2064,2068,2071,2070,2065,2026,2022,2019,2016,2016,2027,2065,2132,2175,2180,2180,2147,2091,2058,2044,2039,2036,2035,2035,2039,2045,2046,2047,2047,2047,2047,2046,2044,2041,2038,2036,2034,2034,2036,2040,2046,2055,2063,2070,2077,2082,2085,2088,2089,2091,2095,2099,2104,2108,2110,2110,2107,2100,2090,2079,2067,2056,2046,2039,2035,2035,2037,2039,2041,2043,2044,2045,2044,2043,2043,2043,2045,2048,2050,2051,2050,2049,2047,2044,2041,2039,2038,2040,2043,2047,2049,2051,2051,2049,2046,2043,2040,2039,2040,2042,2044,2045,2045,2045,2043,2040,2037,2033,2031,2033,2038,2042,2045,2047,2046,2045,2043,2039,2034,2031,2030,2030,2033,2037,2042,2047,2051,2053,2053,2053,2053,2053,2053,2053,2052,2051,2050,2051,2051,2051,2036,2021,2021,2042,2097,2150,2168,2168,2146,2106,2074,2049,2029,2017,2012,2010,2010,2017,2031,2043,2049,2049,2049,2049,2049,2049,2049,2049,2050,2051,2053,2055,2058,2064,2071,2078,2086,2093,2099,2105,2109,2111,2112,2113,2113,2112,2111,2110,2106,2100,2092,2082,2073,2063,2053,2043,2036,2032,2032,2034,2037,2040,2043,2045,2047,2047,2046,2045,2046,2049,2053,2058,2063,2065,2066,2066,2064,2061,2058,2055,2053,2053,2053,2054,2052,2051,2049,2047,2044,2042,2040,2039,2039,2040,2040,2040,2039,2038,2038,2038,2038,2037,2036,2037,2038,2039,2040,2040,2040,2039,2039,2038,2037,2038,2039,2040,2042,2044,2048,2051,2054,2055,2054,2053,2053,2051,2049,2046,2035,2034,2034,2053,2104,2160,2183,2183,2148,2083,2052,2051,2051,2052,2052,2048,2040,2034,2034,2035,2039,2040,2041,2041,2041,2041,2042,2043,2046,2049,2052,2056,2061,2065,2070,2073,2076,2078,2082,2087,2093,2098,2103,2106,2109,2110,2108,2102,2094,2087,2079,2072,2064,2056,2049,2045,2041,2037,2035,2036,2037,2040,2043,2046,2049,2050,2050,2047,2045,2042,2041,2040,2039,2038,2041,2044,2048,2050,2051,2052,2053,2054,2052,2049,2045,2041,2038,2036,2034,2033,2034,2038,2042,2045,2048,2050,2050,2049,2047,2045,2043,2043,2044,2045,2046,2046,2045,2044,2042,2039,2034,2015,2013,2013,2034,2083,2138,2166,2166,2153,2107,2049,2024,2024,2026,2031,2038,2047,2052,2052,2048,2037,2033,2032,2033,2034,2035,2036,2037,2040,2045,2050,2055,2058,2061,2063,2066,2068,2072,2077,2082,2087,2093,2099,2104,2108,2108,2104,2098,2091,2084,2077,2068,2059,2049,2043,2039,2037,2035,2032,2030,2030,2030,2032,2034,2036,2039,2042,2046,2048,2050,2051,2050,2048,2047,2045,2044,2045,2045,2045,2045,2045,2044,2044,2042,2040,2037,2034,2033,2033,2033,2033,2034,2036,2039,2041,2041,2039,2037,2036,2036,2036,2036,2037,2038,2040,2042,2043,2044,2044,2046,2049,2052,2055,2056,2057,2058,2057,2055,2053,2045,2041,2041,2069,2134,2173,2173,2170,2137,2089,2065,2056,2048,2038,2032,2030,2030,2031,2034,2039,2042,2043,2044,2045,2047,2049,2050,2052,2054,2056,2058,2061,2065,2070,2074,2079,2086,2094,2103,2111,2115,2118,2121,2123,2123,2122,2119,2114,2107,2098,2088,2077,2065,2054,2043,2035,2029,2027,2026,2026,2027,2029,2031,2033,2033,2032,2031,2030,2028,2026,2023,2021,2020,2020,2021,2022,2023,2025,2030,2036,2042,2046,2048,2049,2049,2049,2046,2043,2042,2043,2046,2051,2055,2058,2059,2057,2053,2048,2043,2041,2040,2041,2043,2046,2050,2053,2056,2056,2056,2054,2051,2048,2047,2046,2047,2050,2053,2057,2062,2067,2070,2071,2070,2066,2060,2030,2026,2026,2028,2050,2104,2150,2161,2161,2124,2060,2031,2030,2030,2031,2030,2023,2012,2004,2000,2000,2003,2008,2013,2018,2022,2025,2028,2034,2038,2040,2040,2040,2039,2039,2040,2041,2046,2054,2064,2073,2082,2089,2097,2107,2117,2124,2130,2133,2130,2122,2113,2101,2086,2070,2053,2039,2033,2034,2035,2035,2035,2035,2037,2042,2047,2050,2052,2050,2049,2047,2044,2040,2035,2032,2033,2038,2044,2051";

    public static void main(String[] args) {
        try {
            byte[] imgByte = paintSingleLeadEcg(data, "PNG", 5);

            // 确定写出文件的位置
            File file = new File("F:\\Test.PNG");
            // 建立输出字节流
            FileOutputStream fos = new FileOutputStream(file);
            // 用FileOutputStream 的write方法写入字节数组
            fos.write(imgByte);
            System.out.println("写入成功");
            // 为了节省IO流的开销，需要关闭
            fos.close();
        } catch (Exception e) {
            e.printStackTrace();
        }

    }

    *//**
     *
     * @param data
     *            点数字符串,以逗号(,)分隔的字符串
     * @param format
     *            生成图片的格式(jpg,png等)
     * @param gain
     *            当前心电波形增益，取值:0,1,2,4 取自报告中的nGain 值
     * @return 图片二进制数据
     *//*
    public static byte[] paintSingleLeadEcg(String data, String format, int gain) {
        if (StringUtils.isBlank(data)) {
            return null;
        }

        String[] strs = data.split(","); // 字符分割
        List<String> dotList = Arrays.asList(strs);

        // 图片宽度(需与点数dotNum保持一致)
        int imageWidth = 900;

        // 图片高度
        int imageHeight = 210;

        // 点总数
        int len = dotList.size();

        // 每个图片画点数(900,根据需要调整)
        int dotNum = 900;

        // 可以画几块(必须用double类型,否则取整不准确)
        // 点数太多,需要拆分为多个图片
        int blocks = new Double(Math.ceil((double) len / (double) dotNum)).intValue();

        BufferedImage[] bufferedImages = new BufferedImage[blocks];
        for (int i = 0; i < blocks; i++) {
            // 按点数截取每块图上的点集合
            int fromIndex = i * dotNum + 1;
            int toIndex = (i + 1) * dotNum;
            toIndex = toIndex > len ? len : toIndex;
            List<String> subDotList = dotList.subList(fromIndex, toIndex);

            // 画出每块图
            BufferedImage image = drawImage(imageWidth, imageHeight, subDotList, gain);
            bufferedImages[i] = image;
        }

        // 合并已画好的图
        // 宽与原图一致,高为原图高*块数
        BufferedImage image = new BufferedImage(imageWidth, (imageHeight) * blocks, BufferedImage.TYPE_INT_RGB);
        Graphics graphics = image.getGraphics();
        for (int i = 0; i < bufferedImages.length; i++) {
            // x坐标为0,y坐标每块图的高度*序号(竖着合并)
            graphics.drawImage(bufferedImages[i], 0, i * imageHeight, imageWidth, imageHeight, null);
        }
        graphics.dispose();

        // 图片写入stream
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        try {
            if (StringUtils.isBlank(format)) {
                format = "PNG";
            }
            ImageIO.write(image, format, out);
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        }

        return out.toByteArray();

    }

    *//**
     * 画心电图
     *
     * @param imageWidth
     *            图片宽度
     * @param imageHeight
     *            图片高度
     * @param dotList
     *            待画的点集合
     * @param gain
     *            增益值,取自报告的增益
     * @return
     *//*
    private static BufferedImage drawImage(int imageWidth, int imageHeight, List<String> dotList, int gain) {

        // 每块图
        BufferedImage subImage = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_INT_RGB);
        Graphics graphics = subImage.getGraphics();

        // 设置画布大小
        graphics.fillRect(0, 0, imageWidth, imageHeight);

        // 画小格子
        Color color = new Color(246, 235, 235);
        drawGrid(graphics, color, imageWidth, 3);

        // 画中格子
        color = new Color(240, 182, 182);
        drawGrid(graphics, color, imageWidth, 15);

        // 画大格子
        color = new Color(231, 130, 130);
        drawGrid(graphics, color, imageWidth, 75);

        int pointSpace = 1; // 两点之间的间距
        int firstX = 0;// 第一个点的x坐标
        int firstY = 0;// 第一个点的y坐标
        int secondX = 0;// 第二个点的x坐标
        int secondY = 0;// 第二个点的y坐标

        // 设置心电图线的颜色(黑色)
        graphics.setColor(Color.BLACK);
        for (int i = 0; i < dotList.size(); i++) {

            int nData = Integer.parseInt(dotList.get(i)) - 2048;// 厂商规范,每个点的数据值需要减去该值
            if (gain != 0) {// 增益
                secondY = ((imageHeight) / 2) - ((imageHeight) * (nData * gain) / 6 / 416);
            } else {
                secondY = ((imageHeight) / 2) - ((imageHeight) * (nData) / 6 / 416);
            }
            if (i == 0) {// 设置第一个点的Y坐标
                firstY = secondY;
                continue;
            }

            secondX = firstX + pointSpace;
            graphics.drawLine(firstX, firstY, secondX, secondY);
            // 设置下一个点的起始坐标
            firstX = secondX;
            firstY = secondY;
        }
        graphics.dispose();
        return subImage;
    }

    *//**
     * 画网格线
     *
     * @param graphics
     * @param color
     *            线的颜色
     * @param width
     *            图片宽
     * @param step
     *            格子宽度
     *//*
    private static void drawGrid(Graphics graphics, Color color, int width, int step) {

        graphics.setColor(color);
        // 画竖线
        for (int x = 0; x < width; x += step) {
            // 10像素的白边
            graphics.drawLine(x, 10, x, width);
        }
        // 画横线(10像素的白边)
        for (int y = 10; y < width; y += step) {
            graphics.drawLine(0, y, width, y);
        }
    }
*/
}
